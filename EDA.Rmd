---
title: "EDA"
author: "Team!"
date: "4/18/2020"
output: html_document
---

```{r warning = F, message = F}
# Clean up R environment
rm(list = ls())

# Load in packages
library(tidyverse) # Data wrangling, ggplot, etc.
library(knitr)     # This is to make pretty tables (see kable() )
library(corrplot)  # Correlation plot 


# Read in data
Raw_data <- 
  read.csv("./Data/training_set_features.csv", stringsAsFactors=FALSE,
           na.strings=c("","NA")) # Account for blanks being NA
Raw_labels <- 
  read.csv("./Data/training_set_labels.csv", stringsAsFactors=FALSE)
Raw_test <- 
  read.csv("./Data/test_set_features.csv", stringsAsFactors=FALSE)

# Global options
set.seed(14)
theme_set(theme_bw()) # Set a better ggplot theme
options(digits=3)     # Set digits to 3 to avoid too many values
```


# Data Cleaning

Join the response variables (in Raw_labels) to the training data (Raw_data)
```{r}
# Since the datasets are in the same order, I just cbind() the two, dropping
#  respondent id in the Raw_labels dataset
Training_full <- cbind(Raw_data, Raw_labels[2:3])
```


Check the total number of NAs for each row. Note that `health_insurance`, `employment_industry`, and `employment_occupation` have a LOT of NAs.  

```{r}
# Total number of NAs
sapply(Training_full, function(x) sum(is.na(x)))

# For a prettier table format in pdf/html
#kable(sapply(wiki, function(x) sum(is.na(x))), col.names = 'NA Values')
```




# General EDA
Basic exploration of the data. 

It seems like roughly half of the training observations were vaccinated for the flu, while only ~21% were vaccinated for the h1n1 
```{r}
# Examine how may of the total observations were vaccinated
Raw_labels %>%
  summarize(seasonal_vaccine = sum(seasonal_vaccine), 
            h1n1_vaccinated = sum(h1n1_vaccine), 
            n = n())
```












